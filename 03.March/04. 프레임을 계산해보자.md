# 프레임을 계산해보자

보통 프레임이라고 부르는게  
동영상과 사진으로 비교하자면 동영상은 사진의 연속이고  
1초에 사진이 몇개가 있는지를 나타내는 것이 프레임이다.  

1초에 1장의 사진이 넘어가는 동영상은  
굉장히 끊겨서 보일 것이고  
1초에 60장의 사진이 넘어가는 동영상은  
굉장히 부드럽게 보여질 것이다.  

유니티의 경우에는 프레임 단위로 로직이 돌아가게 된다.  
코드에 많은 로직들을 넣어놓으면  
그 로직들이 한 프레임에 싹 다 처리가 되고나서  
다음 프레임으로 넘어가고 다음 프레임에선 다시 그 로직이 돌아가게 되는 것이다.  

흔히 게임이 60프레임 정도만 되어도 할만하다고 하는데  
보통 60프레임 이상이 되면 사람이 끊김을 체감하지 못하기 때문이다.  

60프레임은 보통 0.01666.... 초가 된다.  
즉 모든 로직이 0.016666초 안에 처리가 되면  
60프레임이 나온다고 할 수 있을 것이다.  

만약에 로직을 처리하는데 그 이상의 시간이 걸리면  
1초에 처리할 수 있는 프레임의 수가 떨어지게 되고  
우린 그걸 프레임 드랍이라고 부른다.  

그렇기 때문에 로직을 짜는데 있어서  
해당 시간안에 처리가 될 수 있도록 만드는 것이 중요하다  

그런데 0.0166666 초는 어떻게 해서 나온 것인지 알아보자면  
앞서 설명했듯이 프레임은 1초에 처리되는 사진의 갯수라고 했다.  
그렇기 때문에 `1초 / 프레임의 갯수`를 하면  
프레임의 시간이 나오게 된다.  

1 프레임의 경우 1/1 = 1 이므로 한 프레임이 처리되는데 걸리는 시간이 1초라는 이야기이고  
2 프레임의 경우 1/2 = 0.5 이므로 한 프레임이 처리되는데 걸리는 시간이 0.5초가 된다.  
60 프레임의 경우 1 / 60 이 되고 이걸 계산하면 대략 0.0166666 이라는 값이 나온다.  
즉, 60프레임에서 한 프레임이 처리되어야 하는 시간은 0.0166666 초가 된다.  

그런데 반대의 경우도 있을 것이다.  
내가 로직을 처리하는데 n초라는 시간이 걸릴 때  
이걸 게임에 넣으면 몇 프레임이 나올까가 궁금 할 수도 있다.  

이것 역시 비슷하게 `1초 / 처리시간` 으로 계산하면 된다.  
내가 로직을 처리하는데 0.5초가 걸린다고 하면  
1 / 0.5 = 2 가 되므로 2 프레임의 게임이 만들어진다는 소리이고  

로직이 처리되기 까지 0.02초가 걸린다고 하면  
1 / 0.02 = 50 이므로 50프레임이 된다는 소리이다.  

그렇기 때문에 이것을 사용하면 프레임을 측정할 수 있다.  
이를테면 Update 문에 들어왔을 때 현재 시간을 캐싱하고  
다음번에 Update 문에 도달하면 `현재 시간 - 이전 시간` 으로  
프레임 간 시간차이를 구한다.  

이렇게 구한 시간을 1로 나누게 되면  
프레임이 나오게 된다는 것이다.  

게임 로직 뿐만 아니라  
통신 속도 역시 프레임으로 계산을 때리면  
굉장히 직관적으로 속도를 알 수 있게 되는 것 같다.  
</br>
</br>
</br>
</br>
</br>
### 잡담

```
열심히 작성중이다.  
```