# 이벤트는 프로퍼티로 공개해주자

```
private event Action<string> onEvent;

public event Action<string> OnEvent
{
    add
    {
        onEvent -= value;
        onEvent += value;
    }
    remove
    {
        onEvent -= value;
    }
}
```

아무리 이벤트를 잘 사용한다 하더라도  
반드시 여러가지 문제들이 생기는 것 같다.  

가장 많이 발생하는 문제 중 하나가  
바로 이벤트의 중복 등록 문제이다.  

어떤 오브젝트가 활성화가 되면  
이벤트에 등록을 해주고  
어떤 오브젝트가 비활성화가 되면  
이벤트에서 삭제를 시켜주는 코드를 만들었는데  

계속해서 코드를 짜고 프로젝트 크기를 늘려가다보면  
이벤트 삭제를 생략하는 경우가 많았다.  

이런 경우 이벤트가 삭제되지 못하고 계속해서 등록이 되어서  
코드가 실행이 됨에 있어서 문제가 발생하게 되었다.  

이러한 문제에 맞딱뜨리던 도중  
굉장히 좋은 코드를 발견하게 되었는데  
바로 프로퍼티를 이용하여 이벤트 등록 및 삭제를 해주는 코드였다.  

위 코드를 보면  
이벤트를 등록할 때 해당 함수를 한번 삭제시켜주게 된다.  
그러니깐 무조건 한번 밖에 등록이 안되는 구조가 된다.  
그래서 적어도 이벤트 삭제를 생략했을 때  
중복 등록이 되는 문제에 대해선 어느정도 해결이 가능하게 된다는 것이다.  

물론 가장 베스트는 이벤트 등록과 삭제를 매칭시켜주는 것이다.  
하지만 위 코드를 통해서 하나의 방어막을 세운다고 생각하면 될 것 같다.  
실제로도 위 코드를 통해 많은 이득을 보게 되었다.  

물론 프로퍼티를 사용하지 않는다면  
그냥 이벤트 등록전에 이벤트 삭제를 해주면 된다.  
</br>
</br>
</br>
</br>
</br>
### 잡담  

```
열심히 작성 중이다.
```