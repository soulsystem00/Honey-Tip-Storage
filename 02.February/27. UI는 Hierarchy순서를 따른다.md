# UI는 Hierarchy순서를 따른다

UI를 다루다 보면 레이어를 굉장히 많이 신경쓰는 것 같다.  
어떤 UI는 겹쳐도 되지만  
버튼과 같은 UI는 겹쳐지면 클릭이 되지 않기 때문에  
이러한 경우에는 레이어 상단에 위치해야 한다.  

그래서 이걸 해결하기 위한 여러가지 방법들이 있지만  
그 중에서 가장 쉬운 방법은 Hierarchy 순서로 컨트롤 하는 것이다.  

캔버스 자식에 UI 요소들이 위치하게 될 텐데  
상단에 위치해있는 것 부터 그려진다고 생각하면 된다.  
그렇기 때문에 A를 먼저 그리고 B를 나중에 그리게 되면  
두 UI가 겹쳐졌을 땐 B가 보이게 될 것이다.  

굉장히 쉬운 방법이지만  
Hierarchy 순서는 보통 미리 UI를 만들때 설정을 하는 것 같다.  
상단에 위치해야하는 요소일 수록 Hierarchy 아랫쪽에 놓아서  
내가 원하는대로 UI가 보여지게 끔 만들어놓는 식으로 말이다.  

그런데 동적으로 UI를 로드하다보면  
당연히 먼저 로드된 UI가 Hierarchy 상단에 위치하게 되니  
먼저 로드된 UI는 가면 갈 수록 레이어 뒤 쪽에 위치해 있을 수 밖에 없다.  
그렇기 때문에 코드를 통해 Hierarchy 순서를 조절해주어야 한다.  

이를 위한 굉장히 많은 방법들이 있지만  
그만큼 여러가지 상황들도 존재한다.  
이를테면 A는 B 앞에 와야하지만 C 뒤에 가야하는 식이다.  
그런데 A,B,C 중 어떤게 먼저 로드 될지 모르는 상환 같은 경우가 있을 것이다.  
이러한 경우에는 Hierarchy 순서보단 다른 방법을 찾는 것이 좋을 것 같다.  

대신 무조건 최상단에 위치해야하거나  
무조건 최하단에 위치해야하는 경우에는 굉장히 쉽게 처리가 가능하다.  

```
transform.SetAsFirstSibling();  // 최하단

transform.SetAsLastSibling();   // 최상단

transform.SetSiblingIndex(index);
```

transform 을 살펴보면 요런 함수가 있는데  
Hierarchy에서 부모 객체를 중심으로 Hierarchy 순서를 결정해 줄 수 있다.  
그런데 최상단 최하단 같은 경우에는 위의 2개의 함수를 사용하면  
굉장히 쉽게 최하단, 최상단에 위치하게 만들 수 있다.  

그리고 SetSiblingIndex 함수를 사용하게 되면  
몇번째에 위치할 것인지 결정할 수 있어 여러상황에 대응이 가능해진다.  
다만 자식객체가 몇개인지 알아야하고  
각 특정 객체 위에만 그려져야한다면 자식객체를 검사하는 코드를 넣어야 할 것 같다.  

그래서 그럴바에 다른 방법을 사용하고  
그냥 최상단, 최하단 함수만 사용하면 될 것 같다.  
</br>
</br>
</br>
</br>
</br>
### 잡담   

```
열심히 작성중이다.
```