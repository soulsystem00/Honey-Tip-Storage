# Type으로 인스턴스화가 가능하다

어쩌다보니 궁금해진게 있는데  
객체를 만들 때 일일히 만들어주는게 아니라  
코드를 통해 객체를 만드는 방법이 없을까 하는 생각이 들었다.  

그러다가 해당 코드를 찾게 되었다.  
```
Activator.CreateInstance(type);
```

대충 type에다가 원하는 타입을 넣으면  
해당 타입이 object 형으로 리턴되게 된다.  
어느정도 내가 원하는 답을 찾은 것 같다.  

그런데 type을 일일히 적어줄 순 없지 않은가.  
그래서 방법을 찾아본 결과  
```
AppDomain.CurrentDomain.GetAssemblies().SelectMany(x => x.GetTypes())
```
이 코드를 사용하면  
현재 선언해놓은 모든 형식을 받아올 수 있었다.  
그래서 여기서 where을 추가해서  
내가 원하는 조건의 타입을 받아올 수 있는 형태였다.  

그렇게 하면  
내가 원하는 조건의 타입을 받아온 뒤  
코드를 통해 객체를 만들수 있었다.  
</br>
</br>
이러한 코드를 생각해본 이유는  
인터페이스 때문이었는데  

인터페이스를 상속 받기만 해도  
코드에서 알아서 해당 클래스를 찾아서 객체로 만들어주고  
인터페이스의 코드도 실행시켜주도록 만드는 코드를 만들어보고 싶었기 때문이다.  

그러면 이러한 코드를 만들어두면  
이후에는 따로 이것저것 할 필요 없이  
클래스를 만들고 인터페이스를 상속 받기만 하면  
알아서 객체가 만들어지니깐 굉장히 편리하게 사용할 수 있지 않을까 하는 생각이 들었다.  

약간 Monobehavior 같은 역할 같기도 하다.  

이 코드를 적용시키면 좋을 것 같은 부분도 있었으나  
약간 이해하기 힘들 수도 있을 것 같아  
일단은 보류 중이긴 하다.  