# 유니티에서 SetWindowLong은 다르게 적용해야 한다

SetWindowLong은 윈도우 창의 속성을 변경해주는 함수이다.</br>

함수의 원형은 다음과 같다.</br>
```
[DllImport("user32")]
public static extern Int32 SetWindowLong(IntPtr hWnd, Int32 nIndex, Int32 dwNewLong);
```
[함수 설명](https://learn.microsoft.com/ko-kr/windows/win32/api/winuser/nf-winuser-setwindowlonga)

공식 문서 참고하면 되는데</br>
대충 정리를 하자면</br>

hWnd는 변경할 윈도우 창의 핸들을 의미한다.</br>

nIndex는 변경할 속성을 의미한다.</br>
C++에서는 이미 Define이 되어 있는 것 같은데</br>
C#에서는 따로 Define을 해주던가 귀찮으면 그냥 int로 넣어버리면 된다.</br>
각 값이 의미하는 것은 공식 문서 참고하면 된다.</br>
</br>
dwNewLong은 바꿀 값이다.</br>
여기에 넣은 값으로 바꾸겠다는 의미이다.</br>
</br>
이 함수의 리턴 값은 바꾸기 전의 값이다.</br>
예를 들어서 윈도우 창이 1이라는 값을 가지고 있다고 할 때</br>
이것을 2로 바꾼다면</br>
함수는 1을 리턴한다.</br>
</br>
이렇게 저장된 이전 값은 윈도우 창을 다시 원복 시킬 때 사용하면 된다.</br>
</br>
</br>
아무튼 윈도우 창의 속성을 변경하기 위해서</br>
어떤 윈도우 창을 변경할 것 인지에 대한 핸들을 가져와야 하는데</br>
보통 FindWindow 함수로 핸들을 가져오게 된다.</br>
</br>
FindWindow 함수는 이전에 설명을 했으니깐</br>
그걸 참고하면 될 것 같고</br>
아무튼 보통 창을 찾으려면 윈도우 창의 이름으로 찾는 경우가 많은데</br>
유니티 에디터에서는 클래스 명으로 찾는 경우가 많다.</br>
</br>
왜냐하면 윈도우 창 이름이 너무 복잡하다.</br>
윈도우 창 제목을 살펴보면</br>
유니티 버전, 몇 비트인지, 씬 이름, 프로젝트 이름, 타겟 플랫폼 등등</br>
여러가지 정보들이 들어있다.</br>
이걸 정확하게 타이핑 해서 넣어주어야 유니티 창을 찾을 수 있을텐데</br>
이걸 타이핑 하기엔 너무 시간이 오래걸리고</br>
너무 길다보니 타이핑을 하다 오타가 날 수도 있기 때문이다.</br>
</br>
그런데 클래스 명 같은 경우에는 `UnityContainerWndClass`로 일정하다.</br>
그래서 코드를 작성 할 때 굉장히 편리해진다는 장점이 있다.</br>
그냥 한번 작성해두면 다음 프로젝트 만들 때도 그냥 그 코드 가져다가 쓰면 된다.</br>
클래스로 찾으면 코드의 재사용이 쉬워진다.</br>
</br>
대신 빌드 상태일 때와 에디터 모드일 때 FindWindow 사용법이 다르니</br>
현재 플랫폼에 따라 분기를 나눠주는 식으로</br>
코드를 작성하고 있다.</br>

```
if (Application.platform == RuntimePlatform.WindowsPlayer)
{
    // 대충 WindowName으로 FindWindow후 SetWindowLong 하는 코드
}
else if (Application.platform == RuntimePlatform.WindowsEditor)
{
    // 대충 ClassName으로 FindWindow후 SetWindowLong 하는 코드
}

```
</br>
</br>
</br>
</br>
</br>
# 잡담

```
아니 작성을 하고보니깐
어제 Wndproc 글을 작성한 걸 확인했음

뭔가 잡담을 작성하는데 데자뷰가 느껴지는 거임
작성한 걸 또 작성하는 느낌
그래서 파일 확인 해봤는데 비슷한 내용으로 작성한 건 없는거임
그래서 그냥 그대로 커밋했는데

오늘 날짜가 19일 인거임 18일로 파일 만들었는데 
마지막에 작성한게 17일이라고 되어있으니깐
당연히 그렇게 만들었는데 날짜가 밀려있음

그래서 어제 커밋을 안했나 싶었음
그래서 커밋 초록색으로 채워지는거 확인을 해봤는데
어제 초록색으로 채워져 있는 거임
그래서 커밋 로그 확인해보니깐 어제 분명 커밋을 했음
알고보니깐 파일 이름에 날짜가 안들어가서 그랬던 거임

그래서 비슷한 글이 작성됐음;;

아무튼 다르지만 같이 쓰이는거라
붙어있으면 여러모로 좋다고 생각함
좋은게 좋은거지

그리고 비동기 같은 경우에는
꼭 작성을 할거다
오늘 갑자기 이 오류를 만나서
너무 화가나서 작성을 할 수 밖에 없었음
```




